<html>
  <head>
    <title>OSM Addresses</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
  integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
  crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
  integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
  crossorigin=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-tilelayer-geojson/1.0.2/TileLayer.GeoJSON.min.js"></script>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      font-family: Helvetica, sans-serif;
    }

    blockquote {
      font-family: monospace;
    }

    body {
      display: flex;
      flex-direction: column;
      background-color: #eee;
    }

    #map {
      flex: 1;
    }
  </style>
  </head>
  <body>
     <div id="map"></div>
  </body>
  <script>
    var map = L.map('map').setView([51.505, -0.09], 16);
    var osmUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
            osmAttrib = '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
            osm = L.tileLayer(osmUrl, {maxZoom: 18, attribution: osmAttrib});

    var addresses = new L.TileLayer.GeoJSON("/addresses/{z}/{x}/{y}.json", {
            clipTiles: true,
            unique: function (feature) {
                return feature.properties.inspireid; 
            }
        })
    map.addLayer(osm);
    map.addLayer(addresses);
  </script>
</html>
